Руководство по использованию
Это руководство содержит подробные инструкции по использованию инструмента управления ONVIF-камерами.
Основная структура команды
python3 -m onvif_camera [команда] [ip] [опции]

Доступные команды

Сканирование камеры

python3 -m onvif_camera scan <ip> [-p <порт>] [-u <имя_пользователя>] [-P <пароль>] [-a <тип_аутентификации>] [--debug]

Пример:
python3 -m onvif_camera scan 192.168.1.100 -p 80 -u admin -P password -a digest --debug


Синхронизация даты и времени камеры

python3 -m onvif_camera sync_date <ip> [-p <порт>] [-u <имя_пользователя>] [-P <пароль>] [-a <тип_аутентификации>] [--debug]

Пример:
python3 -m onvif_camera sync_date 192.168.1.100 -u admin -P password


Перезагрузка камеры

python3 -m onvif_camera reboot <ip> [-p <порт>] [-u <имя_пользователя>] [-P <пароль>] [-a <тип_аутентификации>] [--debug]

Пример:
python3 -m onvif_camera reboot 192.168.1.100 -u admin -P password


Непрерывное PTZ-движение

python3 -m onvif_camera ptz_move <ip> <токен_профиля> <панорама> <наклон> <зум> [-p <порт>] [-u <имя_пользователя>] [-P <пароль>] [-a <тип_аутентификации>] [-t <таймаут>] [--debug]

Пример:
python3 -m onvif_camera ptz_move 192.168.1.100 Profile_1 0.5 0.5 0.0 -t 5


Остановка PTZ-движения

python3 -m onvif_camera ptz_stop <ip> <токен_профиля> [-p <порт>] [-u <имя_пользователя>] [-P <пароль>] [-a <тип_аутентификации>] [--debug]

Пример:
python3 -m onvif_camera ptz_stop 192.168.1.100 Profile_1


Абсолютное PTZ-движение

python3 -m onvif_camera ptz_abs_move <ip> <токен_профиля> <панорама> <наклон> <зум> [-p <порт>] [-u <имя_пользователя>] [-P <пароль>] [-a <тип_аутентификации>] [--debug]

Пример:
python3 -m onvif_camera ptz_abs_move 192.168.1.100 Profile_1 0.5 0.5 0.0


Мониторинг событий движения

python3unofficial
python3 -m onvif_camera events <ip> [-p <порт>] [-u <имя_пользователя>] [-P <пароль>] [-a <тип_аутентификации>] [--debug]

Пример:
python3 -m onvif_camera events 192.168.1.100 -u admin -P password

Опции

--wsdl-path: Указать путь к WSDL-файлам ONVIF (по умолчанию: /usr/local/share/onvif/wsdl)
-p, --port: Порт камеры (по умолчанию: 80)
-u, --username: Имя пользователя (по умолчанию: admin)
-P, --password: Пароль (по умолчанию: пустой)
-a, --auth-type: Тип аутентификации (digest или basic, по умолчанию: digest)
--debug: Включить режим отладки
-t, --timeout: Таймаут движения PTZ в секундах (по умолчанию: 5.0)

Вывод
Все команды выводят результаты в формате JSON. В режиме отладки подробные логи записываются в camera_scanner_ГГГГММДД_ЧЧММСС.log, а сообщения SOAP — в soap_messages_ГГГГММДД_ЧЧММСС.log.
Примечания

Используйте команду scan для обнаружения доступных токенов профилей для PTZ-команд
Мониторинг событий движения продолжается до прерывания (Ctrl+C)
Убедитесь, что у вас есть правильный сетевой доступ и учетные данные для камеры
Режим отладки предоставляет подробное логирование для устранения неполадок
